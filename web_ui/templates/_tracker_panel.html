<div class="tracker-panel">
    <div class="panel-header">
        <h3>üö™ {{ tracker_name }}</h3>
        <div class="status-item">
            <span class="status {{ 'running' if config.status == 'Running' else 'stopped' }}" id="status-{{ tracker_id }}">{{ config.status }}</span>
            <div class="quick-actions">
                <button class="btn btn-sm btn-success" onclick="startTracker({{ tracker_id }})">Start</button>
                <button class="btn btn-sm btn-danger" onclick="stopTracker({{ tracker_id }})">Stop</button>
            </div>
        </div>
    </div>
    
    <!-- Tab Navigation -->
    <div class="tab-navigation">
        <button class="tab-btn active" onclick="showTab({{ tracker_id }}, 'config')">‚öôÔ∏è Configuration</button>
        <button class="tab-btn" onclick="showTab({{ tracker_id }}, 'testing')">üß™ Testing</button>
    </div>

    <!-- Testing Tab -->
    <div id="testing-tab-{{ tracker_id }}" class="tab-content">

        <!-- Debug Logs -->
        <div class="debug-logs-section">
            <div class="debug-logging-control">
                <input type="checkbox" id="enable-debug-logging-{{ tracker_id }}" {{ 'checked' if config.get('enable_debug_logging', True) else '' }}>
                <label for="enable-debug-logging-{{ tracker_id }}">
                    <span class="checkbox-label">üìù Enable Debug Logging</span>
                    <span class="logging-note">(disable for performance)</span>
                </label>
            </div>
            
            <div class="logs-header">
                <h4>üìù Debug Logs</h4>
                <div class="log-actions">
                    <button class="btn btn-sm btn-secondary" onclick="clearDebugLogs({{ tracker_id }})" title="Clear all debug logs">
                        üóëÔ∏è Clear
                    </button>
                    <button class="btn btn-sm btn-primary" onclick="refreshDebugLogs({{ tracker_id }})" title="Refresh debug logs now">
                        üîÑ Refresh
                    </button>
                </div>
            </div>
            
            <div class="logs-container">
                <div id="debug-logs-{{ tracker_id }}" class="debug-log-container">
                    <div class="log-entry info">Waiting for debug logs...</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Configuration Tab -->
    <div id="config-tab-{{ tracker_id }}" class="tab-content active">
        <div class="config-section">
            <h4>‚öôÔ∏è Tracker Configuration</h4>
            
            <form class="config-form">
                <div class="form-group">
                    <label for="device-{{ tracker_id }}">Device Name</label>
                    <input type="text" id="device-{{ tracker_id }}" value="{{ config.device }}" placeholder="Device name">
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="coords-left-line-{{ tracker_id }}">Left Line Coordinate</label>
                        <input type="number" id="coords-left-line-{{ tracker_id }}" value="{{ config.coords_left_line }}" min="0" max="1000" step="1">
                    </div>
                    <div class="form-group">
                        <label for="coords-right-line-{{ tracker_id }}">Right Line Coordinate</label>
                        <input type="number" id="coords-right-line-{{ tracker_id }}" value="{{ config.coords_right_line }}" min="0" max="1000" step="1">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="stream-url-{{ tracker_id }}">Stream URL</label>
                    <input type="text" id="stream-url-{{ tracker_id }}" value="{{ config.stream_url }}" placeholder="RTSP URL or test video path">
                </div>
                
                <div class="form-row">
                    <div class="checkbox-group">
                        <input type="checkbox" id="enable-api-{{ tracker_id }}" {{ 'checked' if config.enable_api else '' }}>
                        <label for="enable-api-{{ tracker_id }}">Enable API</label>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="api-url-{{ tracker_id }}">API URL</label>
                        <input type="text" id="api-url-{{ tracker_id }}" value="{{ config.api_url }}" placeholder="API endpoint URL">
                    </div>
                    
                    <div class="form-group">
                        <label for="api-interval-{{ tracker_id }}">API Interval (seconds)</label>
                        <input type="number" id="api-interval-{{ tracker_id }}" value="{{ config.api_interval }}" min="10" max="3600" step="1">
                    </div>
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn btn-primary" onclick="applyConfig({{ tracker_id }})">Apply Configuration</button>
                </div>
            </form>
        </div>
    </div>
</div>